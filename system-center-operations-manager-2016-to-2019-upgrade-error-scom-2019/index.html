<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>System Center Operations Manager 2016 to 2019 in-place Upgrade Error (SCOM 2019)  - Drontoso</title><meta name="description" content="While upgrading a SCOM 2016 instance to 2019 I came up to a strange error . While checking the prerequisites I verified that my 2016 SQL SP3 server was enough to proceed with the the installation . But while starting the installation I got an&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://drontoso.gr/system-center-operations-manager-2016-to-2019-upgrade-error-scom-2019/"><link rel="alternate" type="application/atom+xml" href="https://drontoso.gr/feed.xml"><link rel="alternate" type="application/json" href="https://drontoso.gr/feed.json"><meta property="og:title" content="System Center Operations Manager 2016 to 2019 in-place Upgrade Error (SCOM 2019) "><meta property="og:image" content="https://drontoso.gr/media/posts/20/20162019featured-3.png"><meta property="og:image:width" content="1304"><meta property="og:image:height" content="677"><meta property="og:site_name" content="Drontoso"><meta property="og:description" content="While upgrading a SCOM 2016 instance to 2019 I came up to a strange error . While checking the prerequisites I verified that my 2016 SQL SP3 server was enough to proceed with the the installation . But while starting the installation I got an&hellip;"><meta property="og:url" content="https://drontoso.gr/system-center-operations-manager-2016-to-2019-upgrade-error-scom-2019/"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://drontoso.gr/media/website/favicon-16x16.png" type="image/png"><link rel="stylesheet" href="https://drontoso.gr/assets/css/style.css?v=dfc2b7bc369d646ef98d75a857083e05"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://drontoso.gr/system-center-operations-manager-2016-to-2019-upgrade-error-scom-2019/"},"headline":"System Center Operations Manager 2016 to 2019 in-place Upgrade Error (SCOM 2019) ","datePublished":"2023-11-15T12:58","dateModified":"2023-12-05T16:36","image":{"@type":"ImageObject","url":"https://drontoso.gr/media/posts/20/20162019featured-3.png","height":677,"width":1304},"description":"While upgrading a SCOM 2016 instance to 2019 I came up to a strange error . While checking the prerequisites I verified that my 2016 SQL SP3 server was enough to proceed with the the installation . But while starting the installation I got an&hellip;","author":{"@type":"Person","name":"Ilias Drosos","url":"https://drontoso.gr/authors/acc/"},"publisher":{"@type":"Organization","name":"Ilias Drosos","logo":{"@type":"ImageObject","url":"https://drontoso.gr/media/website/dRONTOSO-LOGO-BLUE.jpg","height":200,"width":670}}}</script></head><body><header class="topbar" id="js-header"><div class="topbar__inner"><a class="logo" href="https://drontoso.gr/"><img src="https://drontoso.gr/media/website/dRONTOSO-LOGO-BLUE.jpg" alt="Drontoso"></a><nav class="navbar"><button class="navbar__toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://drontoso.gr/" target="_self">Home</a></li><li class="has-submenu"><a href="https://drontoso.gr/tags/exchange/" title="Microsoft Exchange" target="_self" aria-haspopup="true">Microsoft Exchange</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://drontoso.gr/tags/hybrid-configuration-wizard/" title="Hybrid Configuration Wizard" target="_self">Hybrid Configuration Wizard</a></li><li><a href="https://drontoso.gr/tags/adconnect/" title="ADConnect" target="_self">ADConnect</a></li></ul></li><li><a href="https://drontoso.gr/tags/microsoft-intune/" title="Microsoft Intune" target="_self">Microsoft Intune</a></li><li><a href="https://drontoso.gr/tags/m365-apps/" title="M365 Apps" target="_self">M365 Apps</a></li><li><a href="https://drontoso.gr/tags/codetwooffice365migration/" title="CodeTwoOffice365Migration" target="_self">CodeTwo</a></li><li><a href="https://drontoso.gr/authors/acc/" target="_self">Author</a></li></ul></nav></div></header><div class="content"><div class="infobar"><div class="infobar__update">Last Updated: <time datetime="2023-12-05T16:36">December 5, 2023</time></div><div class="infobar__search"><form action="https://drontoso.gr/search.html"><input type="search" name="q" placeholder="search..." aria-label="Search input"> <button type="submit" aria-label="Submit"><svg role="presentation" focusable="false" width="15px" height="14px"><use xlink:href="https://drontoso.gr/assets/svg/svg-map.svg#search"/></svg></button></form></div></div><main class="main"><article class="post"><figure class="post__featured-image"><img src="https://drontoso.gr/media/posts/20/20162019featured-3.png" srcset="https://drontoso.gr/media/posts/20/responsive/20162019featured-3-xs.png 300w, https://drontoso.gr/media/posts/20/responsive/20162019featured-3-sm.png 480w, https://drontoso.gr/media/posts/20/responsive/20162019featured-3-md.png 768w, https://drontoso.gr/media/posts/20/responsive/20162019featured-3-lg.png 1024w, https://drontoso.gr/media/posts/20/responsive/20162019featured-3-xl.png 1360w, https://drontoso.gr/media/posts/20/responsive/20162019featured-3-2xl.png 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="677" width="1304" alt=""></figure><header class="u-header post__header"><h1>System Center Operations Manager 2016 to 2019 in-place Upgrade Error (SCOM 2019) </h1><div class="u-header__meta u-small"><img src="https://drontoso.gr/media/website/idrosos.jpg" loading="eager" class="u-header__avatar" alt="Ilias Drosos" height="450" width="450"><div><a href="https://drontoso.gr/authors/acc/" title="Ilias Drosos">Ilias Drosos</a> <time datetime="2023-11-15T12:58">November 15, 2023</time></div></div></header><div class="post__entry u-inner"><p> </p><p>While upgrading a SCOM 2016 instance to 2019 I came up to a strange error . While checking the prerequisites I verified that my 2016 SQL SP3 server was enough to proceed with the the installation . </p><p>But while starting the installation I got an error in prerequisites check which stated that SQL version was not compatible with the current version I was trying to install . </p><p>After finding the log folder of the installation I was running (C:\Users\userusedduringinstallation\AppData\Local\SCOM\LOGS) I opened SCOMPrereqCheck to check for more details . </p><p>Unfortunately this log file has an XML like structure which does not provide more details to identify the root cause of this error . The only thing I found was a line stating OMDBSqlVersionCheckTitle with a Fail word in the end . </p><p>Then I decided to check what was happening during the prerequisites check in my SQL server . So I fired Up SQL Management Studio logged in  and opened Management -&gt; SQL Server Logs -&gt; and opened the current logs file . </p><p>There I saw a line saying : </p><p>Starting up database 'SCOMINSTALLTESTDB_638356414323093873'.</p><p>Each time I fired up the prerequisites check again on my SCOM server another database log was recorded . So to check if the server version is correct SCOM installer creates a test database with a random number in the end. I also checked that the account used during installation had the required permissions on the SQL server so that was not the issue. </p><p>Then I decided to dig more . So I opened another log file through SQL Log viewer console which is called Windows NT . </p><p>There I saw an error saying : </p><p>The server-side authentication level policy does not allow the user DOMAIN\USER SID (S-1-X-XX-XXXXXXXXXX-XXXXXXXXX-XXXXXXXXX-XXXXX) from address XX.XX.XX.XX to activate DCOM server. Please raise the activation authentication level at least to RPC_C_AUTHN_LEVEL_PKT_INTEGRITY in client application.</p><p>I verified the IP listed here was the IP of my SCOM server . </p><p>After googling the error I came up to this result : </p><p><a href="https://support.microsoft.com/en-us/topic/kb5004442-manage-changes-for-windows-dcom-server-security-feature-bypass-cve-2021-26414-f1400b52-c141-43d2-941e-37ed901c769c">https://support.microsoft.com/en-us/topic/kb5004442-manage-changes-for-windows-dcom-server-security-feature-bypass-cve-2021-26414-f1400b52-c141-43d2-941e-37ed901c769c</a></p><p>If you read the article you will end up installing the KB on your SQL server or adding the registry key specified with a value of 0 to bypass the error . I did the latter and restarted the SQL server since it is required for the reg change to work . </p><p>Fired up prerequisites check again and the error was gone! Voila! </p><p>P.S. That registry key imposes your server and infrastructure in a security risk . Please keep in mind to remove the registry key or find a workaround after installing your SCOM instance. </p></div><aside class="post__aside"><div class="post__last-updated u-small">This article was updated on December 5, 2023</div><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdrontoso.gr%2Fsystem-center-operations-manager-2016-to-2019-upgrade-error-scom-2019%2F" class="js-share facebook" title="Share with Facebook" rel="nofollow noopener noreferrer" aria-label="Share with Facebook"><svg class="u-icon"><use xlink:href="https://drontoso.gr/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fdrontoso.gr%2Fsystem-center-operations-manager-2016-to-2019-upgrade-error-scom-2019%2F" class="js-share linkedin" title="Share with LinkedIn" rel="nofollow noopener noreferrer" aria-label="Share with LinkedIn"><svg class="u-icon"><use xlink:href="https://drontoso.gr/assets/svg/svg-map.svg#linkedin"/></svg></a></div></aside><footer class="post__footer"><div class="post__bio box"><img class="u-author__avatar" src="https://drontoso.gr/media/website/idrosos.jpg" loading="lazy" alt="Ilias Drosos" height="450" width="450"><div><h4 class="h6"><a href="https://drontoso.gr/authors/acc/" title="Ilias Drosos">Ilias Drosos</a></h4><p>Ilias Drosos is currently working in OfficeLine as a Cloud Architect. He has extensive experience in on-premise IT enviroments with expertise on especially identity , collaboration , infrastructure and security . During his carreer he has been involved in very large migration projects , regarding Exchange on premise to online Hybrid migrations , tenant to tenant migrations (rebrands) , legacy Exchange to Modern Exchange server migrations , on-premise to cloud working enviroments (like Windows 365,Azure virtual desktop ,Intune etc.) . He is also involved in complex Microsoft Endpoint Configuration Manager architecture- design-deployments, and troubleshooting which is a product he is in love with along with Exchange , Active Directory and Intune.</p></div></div><nav class="post__nav box"><div class="post__nav__prev"><a href="https://drontoso.gr/hybrid-configuration-wizard-no-valid-certificates-found/" class="post__nav__link" rel="prev"><img src="https://drontoso.gr/media/posts/17/responsive/HCW-CertNotFound-3-xs.png" loading="lazy" alt="" height="452" width="547"><div class="u-small">Previous Post<h5>Hybrid Configuration wizard - No Valid Certificates Found</h5></div></a></div></nav><div class="post__related box"><h3 class="box__title">Related posts</h3><div class="post__related-wrap"><figure class="post__related-item"><a href="https://drontoso.gr/adconnect-error-deletinglicensedgroupnotallowed/" class="c-card__image"><img src="https://drontoso.gr/media/posts/15/responsive/DeletingLicensedGroupNotAllowedADConnect-2-xs.png" loading="lazy" height="517" width="1025" alt=""></a><figcaption><h4 class="post__related-title"><a href="https://drontoso.gr/adconnect-error-deletinglicensedgroupnotallowed/" class="inverse">ADConnect Error - DeletingLicensedGroupNotAllowed</a></h4><time datetime="2023-01-13T09:38" class="u-small">January 13, 2023</time></figcaption></figure></div></div></footer></article><div class="banner banner--after-post"><div id="cusdis_thread" data-host="https://cusdis.com" data-app-id="598652a7-cf3a-4e19-a4ee-d37163ce79f8" data-page-id="{{ PAGE_ID }}" data-page-url="{{ PAGE_URL }}" data-page-title="{{ PAGE_TITLE }}"></div><script async defer="defer" src="https://cusdis.com/js/cusdis.es.js"></script></div></main><div class="sidebar"><section class="box featured"><h3 class="box__title">Featured</h3><ul class="featured__container"><li class="featured__item"><a href="https://drontoso.gr/hybrid-configuration-wizard-no-valid-certificates-found/" class="featured__image-link"><img src="https://drontoso.gr/media/posts/17/responsive/HCW-CertNotFound-3-xs.png" class="lazyload" loading="lazy" alt="" height="452" width="452"></a><div><a href="https://drontoso.gr/hybrid-configuration-wizard-no-valid-certificates-found/" class="featured__title">Hybrid Configuration wizard - No Valid Certificates Found</a> <time class="u-small" datetime="2023-05-05T12:31">May 5, 2023</time></div></li><li class="featured__item"><a href="https://drontoso.gr/adconnect-error-deletinglicensedgroupnotallowed/" class="featured__image-link"><img src="https://drontoso.gr/media/posts/15/responsive/DeletingLicensedGroupNotAllowedADConnect-2-xs.png" class="lazyload" loading="lazy" alt="" height="517" width="517"></a><div><a href="https://drontoso.gr/adconnect-error-deletinglicensedgroupnotallowed/" class="featured__title">ADConnect Error - DeletingLicensedGroupNotAllowed</a> <time class="u-small" datetime="2023-01-13T09:38">January 13, 2023</time></div></li><li class="featured__item"><a href="https://drontoso.gr/automatically-package-and-install-windows-apps-to-intune-devices-without-microsoft-win32-content-prep-tool/" class="featured__image-link"><img src="https://drontoso.gr/media/posts/14/responsive/IntunePCKGR-xs.png" class="lazyload" loading="lazy" alt="" height="734" width="734"></a><div><a href="https://drontoso.gr/automatically-package-and-install-windows-apps-to-intune-devices-without-microsoft-win32-content-prep-tool/" class="featured__title">Automatically package and install Windows Apps to Intune Devices (without Microsoft Win32 Content Prep Tool) - intunepckgr.com</a> <time class="u-small" datetime="2022-10-31T13:05">October 31, 2022</time></div></li><li class="featured__item"><a href="https://drontoso.gr/how-can-i-install-microsoft-365-apps-via-intune-from-local-source/" class="featured__image-link"><img src="https://drontoso.gr/media/posts/13/responsive/MicrosoftIntuneM365AppsLocalSource-xs.png" class="lazyload" loading="lazy" alt="" height="533" width="533"></a><div><a href="https://drontoso.gr/how-can-i-install-microsoft-365-apps-via-intune-from-local-source/" class="featured__title">How can I install Microsoft 365 Apps via Intune from local source.</a> <time class="u-small" datetime="2022-10-25T15:10">October 25, 2022</time></div></li><li class="featured__item"><a href="https://drontoso.gr/exchange-public-folders-migration-sourcesidevalidation-script-shows-orphanedmpf-folders/" class="featured__image-link"><img src="https://drontoso.gr/media/posts/12/responsive/microsoft-exchange-logo_resized-xs.png" class="lazyload" loading="lazy" alt="" height="408" width="408"></a><div><a href="https://drontoso.gr/exchange-public-folders-migration-sourcesidevalidation-script-shows-orphanedmpf-folders/" class="featured__title">Exchange Public Folders Migration - SourceSideValidation script shows OrphanedMPF folders.</a> <time class="u-small" datetime="2022-10-25T11:38">October 25, 2022</time></div></li></ul></section><section class="box authors"><h3 class="box__title">Authors</h3><ul class="authors__cotainer"><li class="authors__item"><a href="https://drontoso.gr/authors/acc/" class="authors__image-link"><img src="https://drontoso.gr/media/website/idrosos.jpg" loading="lazy" alt="Ilias Drosos" height="450" width="450"></a><div><a href="https://drontoso.gr/authors/acc/" class="authors__title">Ilias Drosos</a> <span class="u-small">Post: 11</span></div></li></ul></section><section class="box"><h3 class="box__title">Tags</h3><ul class="tags"><li><a href="https://drontoso.gr/tags/adconnect/">ADConnect</a> <span class="u-small">(1)</span></li><li><a href="https://drontoso.gr/tags/codetwooffice365migration/">CodeTwoOffice365Migration</a> <span class="u-small">(1)</span></li><li><a href="https://drontoso.gr/tags/exchange/">Exchange</a> <span class="u-small">(4)</span></li><li><a href="https://drontoso.gr/tags/hybrid-configuration-wizard/">Hybrid Configuration Wizard</a> <span class="u-small">(1)</span></li><li><a href="https://drontoso.gr/tags/m365-apps/">M365 Apps</a> <span class="u-small">(2)</span></li></ul></section></div><footer class="footer"><a class="footer__logo" href="https://drontoso.gr/"><img src="https://drontoso.gr/media/website/dRONTOSO-LOGO-BLUE.jpg" alt="Drontoso"></a><nav><ul class="footer__nav"></ul></nav><div class="footer__copyright"><p>Personal Notes Blog - Use at your own risk!</p></div></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.navbar',
   };</script><script defer="defer" src="https://drontoso.gr/assets/js/scripts.min.js?v=bb66f1d815180573784f8434c8f0bf78"></script><script>var images = document.querySelectorAll('img[loading]');

      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
               images[i].classList.add('is-loaded');
         } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
               }, false);
         }
      }</script></body></html>